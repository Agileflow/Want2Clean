rrequire("jquery",function(){$(document).ready(function(){var saAttempts=0;var addSA=function(){var links,index,reg,link,href,sa=(typeof _said_!=="undefined"&&_said_());if(!sa){if(saAttempts++<10){setTimeout(addSA,1000)}return}links=$("a");index=links.length;reg=/\/Redirect.aspx\?/i;while(index--){link=links[index];href=link.getAttribute("href");if(href&&reg.test(href)){link.setAttribute("href",href+"&sa="+sa)}}};if(typeof _said_!=="undefined"&&_said_()){addSA()}else{setTimeout(addSA,1000)}})});
require("jquery",function(){$(document).ready(function(){$("div.estimate-form input:text").on("keydown",function(e){if(e.which===13){$(this).parent().find("button").click();return false}});$("#SearchForm2 input:text").on("keydown",function(e){if(e.which===13){$(this).parent().parent().find("button").click();return false}})})});
rrequire("form",function(){$("#Form_FreeEstimate-Top").html5form()});
require("jquery",function(){$(document).ready(function(){var path=window.location.pathname;$("#SideZone > nav a[href='"+path+"']").parentsUntil("nav").filter("li").addClass("selected")})});
require("cookie",function(){var loc1=Make.Int(document.body.getAttribute("data-location")),loc2=$.cookie("L"),ua=window.navigator.userAgent;$(".change-location").on("click",function(e){var href=$(this).attr("href"),date=new Date();date.setDate(date.getDate()-1);$.cookie("L",null,{expires:date,path:"/"});$.cookie("_z",null,{expires:date,path:"/"});$("#FreeEstimate-Top-Franchise .areas-button").eq(1).removeClass("hide").end().eq(0).addClass("hide");setTimeout(function(){window.location.href=href},1)});if(ua&&/\bScreenshot\b/.test(ua)){return}if(!loc1||loc2){return}if($.cookie("R_")){return}document.body.classList.add("select-location");$("#LocationPopUp").on("click",function(e){var data=$.getLinkAction(e);switch(data.action){case"yes":loc2=loc1;$.cookie("L",loc1,{expires:30,path:"/"});$("#FreeEstimate-Top-Franchise .areas-button").eq(0).removeClass("hide").end().eq(1).addClass("hide");break}document.body.classList.remove("select-location")})});
require("jquery",function(){$(document).ready(function(){function FixSymbols(element){element.contents().filter(function(){return this.nodeType===3}).replaceWith(function(){return this.nodeValue.replace(/[™®®©]/g,"<sup>$&</sup>")})}FixSymbols($("body :not(iframe,footer,script,sup)"))})});
require("jquery",function(){$(document).ready(function(){function BannerSetup(){var sbbanner=$(".slide-bg-img"),bg=sbbanner.attr("src"),newImg="/Shared/images/spacer.gif";sbbanner.css({opacity:0});sbbanner.attr("src",newImg).css({"background-image":"url("+bg+")"}).addClass("ready")}function isiPad(){return(navigator.platform.indexOf("iPad")!=-1)}if(isiPad()){var navLink=$(".desktop-nav > li");$("body").click(function(e){var target=$(e.target);if(target.is(navLink)||target.parents("li").is(navLink)){if(target.closest(navLink).is(".active")){return}else{e.preventDefault();navLink.removeClass("active");target.closest(navLink).addClass("active")}}else{navLink.removeClass("active")}})}function shrinkIt(){var body=$("body").addClass("mobile-mode"),nav=$(".desktop-nav"),nav2=$(".social-links"),nav3=$("<ul></ul>").addClass("mobile-social"),close=$("<a></a>").addClass("menu-btn").text("Close"),con=$("<div></div>").addClass("mobile-menu").addClass("top-nav").css({height:body.height()});con.prependTo(body);nav.clone().appendTo(con);nav2.find(" li[data-item='i'] ").clone().appendTo(nav3);nav2.clone().appendTo(con).find(" li[data-item='i'] ").remove();nav3.clone().appendTo(con);close.appendTo(con);var panelClose=$("<a></a>").addClass("panel-btn btn").text("Close"),panels=$(".nav-fly"),panelLinks=$("<div></div>").addClass("panel-btn menu-icon").insertBefore(panels);panelClose.appendTo(panels);var menuBtn=$(".menu-btn");menuBtn.on("click",function(){if(body.hasClass("mm-open")){body.removeClass("mm-open")}else{body.addClass("mm-open")}});var panelBtn=$(".panel-btn");panelBtn.click(function(e){e.preventDefault();var item=$(this);if(item.is(".open")){panelBtn.removeClass("open")}else{panelBtn.removeClass("open");item.addClass("open")}})}if($(window).width()<=785){shrinkIt()}$(window).resize(function(){if($(window).width()<=785&&!$("body").is(".mobile-mode")){shrinkIt()}});function DetailCleanSystem(){this._handleClick=function(e){var room=$(e.currentTarget);if(room.is(".close")){rooms.filter(".active").removeClass("active");close.removeClass("active")}else{if(room.is(".active")){room.eq(0).removeClass("active");close.removeClass("active")}else{rooms.filter(".active").removeClass("active");room.eq(0).addClass("active");close.addClass("active")}}};var system=$("#RoomDetails"),rooms=system.find(".room").on("click",$.proxy(this._handleClick,this)),close=system.find(".close")}new DetailCleanSystem();function EstimatePop(){var pop=$(".sticky-pop"),btn=pop.find("header");this._handleMouse=function(e){if(e.type==="click"){var action,target=$(e.target);if(target.is("select")){return}else{if(target.is(btn)||target.closest("header").is(btn)){if(pop.is(".active")){action="close"}else{action="open"}}else{if(!this._over&&this._selected){action="close"}}}if(action==="close"){this._selected=false;pop.removeClass("active").find("li").removeClass("invalid")}else{if(action==="open"){this._selected=true;pop.addClass("active")}}}else{if(e.type==="mouseenter"){this._over=true}else{if(e.type==="mouseleave"){this._over=false}}}};this.element=pop.on("mouseenter mouseleave",$.proxy(this._handleMouse,this));$("body").on("click",$.proxy(this._handleMouse,this))}new EstimatePop();function ScrollScript(){var zone=$(".scroll-visible");if(($(window).width()>=625)&&!$("html").is(".no-csstransitions")){$(window).scroll(function(){var wTop=$(window).scrollTop(),wBottom=wTop+$(window).height();zone.each(function(i){var height=zone.eq(i).outerHeight(),top=zone.eq(i).offset().top,bottom=top+zone.eq(i).height();if((bottom-(height*0.75)<=wBottom)&&(top+(height*0.75)>=wTop)){if(!zone.eq(i).hasClass("show")){zone.eq(i).addClass("show")}}})})}else{zone.each(function(i){zone.eq(i).addClass("show")})}}new ScrollScript();require("adapter",function(){function CSSAnimation(el,options){this._handleMouse=function(e){if(e.type==="click"){var data=$.getLinkAction(e);switch(data.action){case"Next":this.next();break;case"Prev":this.prev();break;case"Slide":var slide=data.link.data("slide");if(slide){this.animate($.toInt(slide-1))}break}}else{if(e.type==="mouseenter"){this.pause()}else{if(e.type==="mouseleave"){this.play()}}}};this.play=function(){this._clear();this._paused=false;if(this._stopped){return}this._timer=setTimeout($.proxy(this.next,this),this.options.delay)};this.pause=function(){this._clear();this._paused=true};this.stop=function(){this._stopped=true;this.pause()};this.start=function(){this._stopped=false;if(this._paused){return}else{this.play()}};this._clear=function(){if(this._timer){clearTimeout(this._timer);this._timer=null}};this.next=function(){this.animate(this.index+1)};this.prev=function(){this.animate(this.index-1)};this.animate=function(index,instant){index=$.toInt(index);if(index>=this.slides.length){index=0}else{if(index<0){index=this.slides.length-1}}if(index===this.index){return}var reverse;if(index===0&&this.index===this.slides.length-1){reverse=""}else{if(this.index===0&&index===this.slides.length-1){reverse=" reverse"}else{if(index<this.index){reverse=" reverse"}else{reverse=""}}}var slide1=this.index<0?this.slides.slice(0,0):this.slides.eq(this.index);var slide2=index<0?this.slides.slice(0,0):this.slides.eq(index);slide1.removeClass("transition-in slide-start slide-in reverse");slide2.removeClass("transition-out slide-in slide-end reverse").addClass("slide-start"+reverse);setTimeout(function(){if(instant){slide1.addClass("slide-end"+reverse);slide2.addClass("slide-in")}else{slide1.addClass("transition-out").addClass("slide-end"+reverse);slide2.addClass("transition-in").addClass("slide-in")}},100);if($.isFunction(this.options.onslide)){this.options.onslide.apply(this,[this.index,index,this])}if(this.navigation){this.navigation.removeClass("active").eq(index).addClass("active")}this.index=index;if(!this._paused){this.play()}};this.slides=el.find(".slide");this.options=$.extend({delay:10500},options);this.slides.find("[data-src],[data-background-image]").each(function(i){var item=$(this),src=item.data("src"),bg=item.data("background-image");if(src){item.attr("src",src)}if(bg){item.css({backgroundImage:"url("+bg+")"})}});el.data("cssanimation",this);if(Modernizr.csstransitions&&this.slides.length>1){this.element=el.on("click mouseenter mouseleave",$.proxy(this._handleMouse,this));if(this.options.nav){this.navigation=$(this.options.nav);this.navigation.eq(0).addClass("active")}if(this.options.autoplay==="false"){this.stop()}this.slides.slice(1).addClass("slide-end").show();if(this.options.start==="play"){this.index=-1;this.animate(0)}else{this.index=0;this.slides.eq(0).addClass("slide-in").show();this.play()}}else{if(Modernizr.csstransitions&&this.options.start==="play"){this.stop();this.index=-1;this.animate(0)}else{this.slides.eq(0).addClass("slide-in").show();this.slides.slice(1).hide()}}}new CSSAnimation($("#Animation"),{start:"play"});var nav=$("#RoomDetailsSub .room-icon").appendTo($("#RoomDetailsSub .room-icons"));$("#RoomDetailsSub .icons").remove();if(document.documentElement.clientWidth>1000){new CSSAnimation($("#RoomDetailsSub"),{nav:nav})}else{new CSSAnimation($("#RoomDetailsSub"),{nav:nav,autoplay:"false"})}});NavResize()});var navContainer=$(".nav-container"),logo=$("a.logo"),logoImg=logo.find("img"),mobNavContainer=$(".top-nav"),breakPoint=585;function NavResize(){if($(window).width()>=breakPoint){var navHeight=$(".fixed").outerHeight();navContainer.css({height:navHeight})}}if($(window).width()>=585){$(".top-nav > ul > li").click(function(e){var target=$(e.target),link=target.closest("a");if(link.length){return}else{$(this).find("a")[0].click()}})}$(window).load(function(){NavResize();if($(window).width()>=breakPoint){logoImg.addClass("ready")}});$(window).on("resize",1000,function(){NavResize()});$(window).on("scroll",function(){if($(window).width()>=585&&logoImg.hasClass("ready")){var offSet=navContainer.height();if(offSet<$(window).scrollTop()){if(navContainer.hasClass("shrink-nav")){return}else{navContainer.addClass("shrink-nav")}}else{if(navContainer.hasClass("shrink-nav")){navContainer.removeClass("shrink-nav")}}}})});
if(window.registerLoading){registerLoading("sa")}__said=document.documentElement.getAttribute("data-sa");function _said_(value,value2){if(typeof sessionStorage==="undefined"){return null}if(value===undefined){return sessionStorage._sid_}else{sessionStorage._sid_=value;_vaid_(value2);$.cookie("_sa",value)}}function _vaid_(value){if(typeof localStorage==="undefined"){return null}if(value===undefined){return localStorage._vid_}else{if(value>0){localStorage._vid_=value}}}function _vvid_(id,value,value2){var player,jw=window.jwplayer,el=id&&document.getElementById(id);if(el&&el.nodeName&&/video/i.test(el.nodeName)){player=el}else{if(jw){player=jw(id)}}if(player&&value&&value2){if(!player.sa){player.sa={}}player.sa.vvid=value;player.sa.vpid=value2}}rrequire(["jquery","cookie"],function(){if(/google|bing|yahoo|spider|crawl|monitor|site24|bot\b/i.test(window.navigator.userAgent||"")){return}var href,m,ppc,domain,keywords,width,d,jan,jul,tz,v,ad,ex,cmp,loc,query,s,fn_class,sa_click,va_play,svc="sa.scorpiondesign.com",id=_said_(),ssl=("https:"==document.location.protocol)?"1":"",links=document.getElementsByTagName("a"),phone="",sa=document.createElement("script");sa.type="text/javascript";sa.async=true;for(var i=0,len=links.length;i<len;i++){href=links[i].getAttribute("href");m=href&&/^tel:(.+)$/.exec(href);if(m){phone=m[1].replace(/\D+/g,"");if(phone&&phone.length>=10){break}}}loc=$.cookie("L")||"";if(id){sa.src=(ssl?"https://":"http://")+svc+"/sa2.js?"+__said+","+id+","+phone+","+encodeURIComponent(window.location.href)+","+loc}else{ppc=$.cookie("SPPC")||"";domain=$.cookie("SEOD")||"";keywords=$.cookie("SEOK")||"";width=(window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth||0);d=new Date();jan=new Date(d.getFullYear(),0,1);jul=new Date(d.getFullYear(),6,1);tz=Math.max(jan.getTimezoneOffset(),jul.getTimezoneOffset())/60;v=_vaid_()||"";ad=$.cookie("PPCAD")||"";ex=$.cookie("PPCEX")||"";cmp=$.cookie("PPCCMP")||"";query=__said+","+ssl+","+ppc+","+domain+","+encodeURIComponent(keywords)+","+width+","+tz+","+phone+","+encodeURIComponent(window.location.href)+","+v+","+ad+","+ex+","+cmp+","+loc;sa.src=(ssl?"https://":"http://")+svc+"/sa.js?"+query}s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(sa,s);fn_class=function(cls){if(!cls||!$.trim(cls)){return""}else{return"."+$.trim(cls).replace(/ +/g,".")}};var fnCustomSearch=function(){return undefined};var fnClick=function(e){var p,children,index,last,id,ssl,clicked,w,h,t,x,y,src,target=$(e.target||e.srcElement),node=target[0].nodeName.toLowerCase(),button=target.closest("button"),form=button.closest("form"),post=form.attr("method")==="post"?"1":"",action=form.attr("action"),search=action&&form.data("search")&&form.find("input:text:visible").val(),link=target.closest("a[href]"),href=link.attr("href"),id=target.attr("id"),cls=fn_class(target.attr("class")),selector=[];if($.isFunction(fnCustomSearch)){search=fnCustomSearch(e)||search}if(button.length){target=button;node="button";id=button.attr("id");cls=fn_class(target.attr("class"));href=action}else{if(link.length){target=link;node="a";id=link.attr("id");cls=fn_class(target.attr("class"))}}if(id){selector.push("#"+id)}else{target.parents("[id],[class],li").filter(":not(body,html)").each(function(i){var item=$(this),_node=(item[0].nodeName||"").toLowerCase(),_id=item.attr("id"),_cls=fn_class(item.attr("class"));if(_id){selector.unshift("#"+_id);return false}else{if(_cls){selector.unshift(_node+_cls)}else{selector.unshift(_node)}}});p=$(selector.join(" "));if(p.length>1){index=-1;p.each(function(i){var items=$(this).find(node+cls);if(items.index(target)>=0){index=i;return false}});if(index>=0){selector[selector.length-1]+=":eq("+index+")";p=p.eq(index)}}children=p.find(node+cls);if(children.length===1){selector.push(node+cls)}else{index=children.index(target);if(index>=0){selector.push(node+cls+":eq("+index+")")}}}id=_said_();ssl=("https:"==document.location.protocol)?"1":"";clicked=encodeURIComponent(selector.join(" "));w=(window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth||0);h=(window.innerHeight||document.documentElement.offsetHeight||document.body.offsetHeight||0);t=Math.max(document.documentElement.scrollTop,document.body.scrollTop);x=e.pageX||e.clientX||0;y=e.pageY||e.clientY||0;src=(ssl?"https://":"http://")+svc+"/sa3.js?"+__said+","+id+","+clicked+","+w+","+h+","+t+","+x+","+y+","+encodeURIComponent(href||"")+","+post+","+encodeURIComponent(search||"")+","+loc;if(navigator.sendBeacon){navigator.sendBeacon(src);return}if(!sa_click){sa_click=document.createElement("img");sa_click.style.display="none";sa_click.src="about:blank";document.body.appendChild(sa_click)}sa_click.src=src;if(link.length&&href&&!e.shiftKey&&!e.ctrlKey&&href.indexOf("javascript:")!=0&&href.indexOf("#")!=0&&(link.attr("target")||"_self")==="_self"){if(e.stopPropagation){e.stopPropagation();e.stopImmediatePropagation();e.preventDefault()}else{e.returnValue=false}link.one("click",function(e){e.stopPropagation()});setTimeout(function(){link[0].click()},100);return false}};if(document.addEventListener){document.addEventListener("click",fnClick,false)}else{if(document.attachEvent){document.attachEvent("onclick",fnClick)}}window._sa_overrideSearch=function(fn){fnCustomSearch=fn};window._sa_videoStart=function(jwid,vvid,video,from,dur,auto){var s,id,ssl;if(video.substring(0,11)=="/cms/video/"){$.ajax({url:video,dataType:"xml",success:function(xml){var hd,file,m;$("video[src]",xml).each(function(i){var $el=$(this),src=$el.attr("src");if($el.attr("width")){hd=src}else{if(!file){file=src;return false}}});file=file||hd;if(!file){return}else{file=file.replace(/^(\w+:)?\d+\//,"/");if(file.substring(0,11)=="/cms/video/"){return}}window._sa_videoStart(jwid,vvid,file,from,dur,auto)}});return}s=document.createElement("script");id=_said_();ssl=("https:"==document.location.protocol)?"1":"";s.type="text/javascript";s.async=true;s.src="about:blank";s.src=(ssl?"https://":"http://")+svc+"/va.js?"+__said+","+id+","+jwid+","+encodeURIComponent(video||"")+","+from+","+dur+","+vvid+","+auto+","+loc;(document.head||document.body).appendChild(s)};window._sa_videoPlay=function(vvid,vpid,to,dur){var ssl=("https:"==document.location.protocol)?"1":"",src=(ssl?"https://":"http://")+svc+"/va2.js?"+__said+","+vvid+","+vpid+","+to+","+dur+","+loc;if(navigator.sendBeacon){navigator.sendBeacon(src);return}if(!va_play){va_play=document.createElement("img");va_play.style.display="none";va_play.src="about:blank";document.body.appendChild(va_play)}va_play.src=src};if(window.register){window.register("sa")}});